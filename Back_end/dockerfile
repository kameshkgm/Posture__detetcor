# Use a Python 3.7 base image. This is crucial.
FROM python:3.7-slim-buster

# Set working directory
WORKDIR /app

# Set environment variables (if needed, these are from your original output)
ENV NIXPACKS_PATH=/opt/venv/bin:$NIXPACKS_PATH

# Copy your requirements file first to leverage Docker cache
COPY requirements.txt .

# Create a virtual environment and install dependencies
# Using --no-cache-dir can save space in the image
RUN python -m venv --copies /opt/venv && \
    . /opt/venv/bin/activate && \
    pip install --no-cache-dir -r requirements.txt

# Copy the rest of your application code
COPY . /app/.

# You might need to specify the command to run your application here
# CMD ["python", "your_app.py"] # Example